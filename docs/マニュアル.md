# Novelaid Tools プラグイン マニュアル

## 概要
Novelaid Toolsは、Obsidian上で小説執筆を支援するためのプラグインです。AIによる文章校正・レビュー・チャット、ルビ表示などの機能を提供します。

---

## インストール方法
1. プラグインフォルダに本プラグインを配置します。
2. Obsidianの「設定」→「コミュニティプラグイン」から本プラグインを有効化してください。

---

## 主な機能

### 1. キャラクタービュー機能
- サイドバーに専用の「キャラクタービュー」を表示します。
- メタデータ（フロントマター）に`Character`、`登場人物`、`人物`のいずれかのタグが設定されているMarkdownファイルをキャラクターとして認識し、一覧表示します。
- キャラクター名をクリックすると、そのファイルがエディタで開きます。

### 2. ルビ表示機能
- Markdown内の特定記法（例: `｜漢字《かんじ》`）を自動でルビ表示します。
- ON/OFFは設定画面から切り替え可能です。

### 3. ポップアップメニューによるルビ挿入
- エディタ上でルビを振りたい文字を選択し、右クリックします。
- メニューから「ルビを振る」を選択すると、入力ウィンドウが表示されます。
- ルビを入力して「決定」を押すと、「|親文字《ルビ》」の形式で挿入されます。

### 4. AIチャット機能
- サイドバーにAIチャットビューを表示できます。
- Gemini APIを利用し、文章執筆やアイデア出し、質問応答などが可能です。
- チャット履歴の管理やAI応答の表示機能も順次拡充予定です。

### 5. AIレビュー・校正
- 原稿に対してAIによるレビューや校正を実行できます。
- レビューは複数のキャラクター（編集者・校正者など）からの視点で生成されます。
- 校正はJSON形式で修正点を返します。

---

## 設定方法

1.  Obsidianの「設定」→「Novelaid Tools」タブを開きます。
2.  以下の項目を設定できます：
    *   **Google Gemini API Key**: AI機能を利用するために必須です。Googleから取得したAPIキーを入力してください。
    *   **接続テスト**: APIキーを入力したら、このボタンを押して設定が正しいか確認することをお勧めします。「接続に成功しました」と表示されれば準備完了です。失敗した場合は、APIキーやモデル名が正しいか、ネットワーク接続が有効かを確認してください。
    *   **Gemini AI Model**: AI機能で使用するモデルを選択します。
        *   **ドロップダウンリスト**: `gemini-2.5-flash` や `gemini-2.5-pro` などの主要なモデルから選択できます。コストと性能のバランスを考えて選びましょう。（デフォルト: `gemini-2.5-flash`）
        *   **カスタムモデル**: リストにないモデル名（例: `models/gemini-2.5-pro-latest`）を使いたい場合は、ドロップダウンで「カスタム」を選び、テキスト入力欄にモデル名を入力してください。
    *   ルビ表示機能の有効化
    *   AI機能の有効化
    *   Gemini API Keyの入力（Google Gemini APIの取得が必要です）

---

## Gemini API Keyの取得方法
1. [Google Gemini API公式サイト](https://ai.google.dev/gemini-api/docs/libraries?hl=ja)にアクセス。
2. APIキーを取得し、設定画面に貼り付けてください。

---

## 注意事項
- 本プラグインはインターネット接続が必要です。
- Gemini APIの利用にはGoogleの利用規約が適用されます。
- 文章データはAIサービスに送信されます。機密情報の取り扱いにはご注意ください。

---

## サポート・問い合わせ
- 不具合・要望はGitHubリポジトリまたはObsidianコミュニティでご連絡ください。

---

## バージョン履歴
- v0.1.0: 初期リリース

---

## ライセンス
- 本プラグインはMITライセンスで公開されています。
